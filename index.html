<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ChatAI ‚Äì Tr·ª£ l√Ω h·ªçc t·∫≠p</title>

<style>
body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
  background: #f7f7f8;
}

.header {
  background: #ffffff;
  border-bottom: 1px solid #ddd;
  padding: 12px;
  text-align: center;
  font-weight: 600;
}

.chat {
  max-width: 900px;
  margin: auto;
  padding: 20px;
  height: calc(100vh - 120px);
  overflow-y: auto;
}

.msg {
  max-width: 75%;
  padding: 14px;
  border-radius: 12px;
  margin-bottom: 12px;
  line-height: 1.5;
}

.user {
  background: #dbeafe;
  margin-left: auto;
}

.bot {
  background: #ffffff;
  border: 1px solid #e5e7eb;
}

.typing {
  font-style: italic;
  color: gray;
}

.input-area {
  display: flex;
  gap: 10px;
  padding: 15px;
  border-top: 1px solid #ddd;
  background: white;
}

input {
  flex: 1;
  padding: 12px;
  border-radius: 10px;
  border: 1px solid #ccc;
  font-size: 16px;
}

button {
  padding: 10px 14px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 18px;
}

.send { background: #2563eb; color: white; }
.mic { background: #10b981; color: white; }
.speak { background: #f59e0b; color: white; }
</style>
</head>

<body>

<div class="header">ü§ñ ChatAI ‚Äì Tr·ª£ l√Ω h·ªçc t·∫≠p</div>

<div class="chat" id="chat">
  <div class="msg bot">
    Xin ch√†o! M√¨nh l√† ChatAI. B·∫°n c√≥ th·ªÉ g√µ ho·∫∑c n√≥i c√¢u h·ªèi nh√©.
  </div>
</div>

<div class="input-area">
  <input id="input" placeholder="Nh·∫≠p c√¢u h·ªèi..." onkeydown="if(event.key==='Enter') send()">
  <button class="send" onclick="send()">‚û§</button>
  <button class="mic" onclick="listen()">üéô</button>
  <button class="speak" onclick="speakLast()">üîä</button>
</div>

<script>
const chat = document.getElementById("chat");
let lastBotText = "";

function add(text, cls) {
  const div = document.createElement("div");
  div.className = "msg " + cls;
  div.innerText = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function send() {
  const input = document.getElementById("input");
  const text = input.value.trim();
  if (!text) return;
  add(text, "user");
  input.value = "";

  const typing = document.createElement("div");
  typing.className = "msg bot typing";
  typing.innerText = "ChatAI ƒëang tr·∫£ l·ªùi...";
  chat.appendChild(typing);

  setTimeout(() => {
    typing.remove();
    const reply = generateReply(text);
    lastBotText = reply;
    add(reply, "bot");
  }, 900);
}

function generateReply(q) {
  q = q.toLowerCase();
  if (q.includes("tin h·ªçc"))
    return "Tin h·ªçc l√† m√¥n h·ªçc v·ªÅ m√°y t√≠nh, d·ªØ li·ªáu v√† c√¥ng ngh·ªá th√¥ng tin.";
  if (q.includes("python"))
    return "Python l√† ng√¥n ng·ªØ l·∫≠p tr√¨nh d·ªÖ h·ªçc, th∆∞·ªùng d√πng trong AI v√† khoa h·ªçc d·ªØ li·ªáu.";
  if (q.includes("ch√†o"))
    return "Ch√†o b·∫°n! M√¨nh c√≥ th·ªÉ gi√∫p b·∫°n h·ªçc t·∫≠p nh√©.";
  return "C√¢u h·ªèi hay ƒë√≥! B·∫°n c√≥ th·ªÉ h·ªèi chi ti·∫øt h∆°n kh√¥ng?";
}

function listen() {
  const r = new webkitSpeechRecognition();
  r.lang = "vi-VN";
  r.onresult = e => {
    document.getElementById("input").value = e.results[0][0].transcript;
    send();
  };
  r.start();
}

function speakLast() {
  if (!lastBotText) return;
  const u = new SpeechSynthesisUtterance(lastBotText);
  u.lang = "vi-VN";
  u.rate = 1.05;
  speechSynthesis.speak(u);
}
</script>

</body>
</html>
